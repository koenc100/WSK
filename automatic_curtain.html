<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> 
<html class="no-js"> <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>Automatic Curtain of the Future - Koen Ceton</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="Automatic Curtain Project" />
		<meta name="keywords" content="Automatic Curtain, Project, Raspberry Pi, Koen Ceton" />
		<meta name="author" content="Koen Ceton" />

		<!-- Stylesheets and Scripts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700" rel="stylesheet">
		<link rel="stylesheet" href="css/animate.css">
		<link rel="stylesheet" href="css/icomoon.css">
		<link rel="stylesheet" href="css/bootstrap.css">
		<link rel="stylesheet" href="css/flexslider.css">
		<link rel="stylesheet" href="css/style.css">
		
		<script src="js/modernizr-2.6.2.min.js"></script>
		<!--[if lt IE 9]>
		<script src="js/respond.min.js"></script>
		<![endif]-->
	</head>
	<body>
		<div id="fh5co-page">
			<a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
			
			<!-- Sidebar/Navigation -->
			<aside id="fh5co-aside" role="complementary" class="border js-fullheight">
				<h1 id="fh5co-logo">
					<a href="index.html">Koen Ceton</a>
				</h1>
				<nav id="fh5co-main-menu" role="navigation">
					<ul>
						<li><a href="index.html">Main</a></li>
						<li><a href="blog_overview.html">Blog</a></li>
						<li class="fh5co-active"><a href="portfolio.html">Projects</a></li>
						<li><a href="about.html">Curriculum Vitae</a></li>
					</ul>
				</nav>
				<div class="fh5co-footer">
					<p><span>Designed by Koen Ceton</span></p>
					<ul>
						<li>
							<a href="https://www.linkedin.com/in/koen-ceton/" target="_blank">
								<i class="icon-linkedin2"></i>
							</a>
						</li>
					</ul>
				</div>
			</aside>

			<!-- Main Content -->
			<div id="fh5co-main">
				<div class="fh5co-narrow-content">
					<!-- Container for Image, Title, Subtitle, Date/Author, and Text -->
					<div class="row animate-box" data-animate-effect="fadeInLeft" style="max-width: 60%; margin: 0 auto;">

						<!-- Centered Image (Primary Project Image) -->
						<div class="col-md-12 text-center">
							<img 
								src="images/projects/automatic_curtain/full_picture.jpeg" 
								alt="Automatic Curtain Full Setup" 
								style="width: 100%; margin: 0 auto; display: block; border-radius: 5px;"
							>
						</div>
						
						<!-- Title & Subtitle -->
						<div class="col-md-12 text-center" style="margin-top: 30px;">
							<h1 style="margin-bottom: 10px;">Automatic Curtain of the Future</h1>
							<h3 style="font-weight: 400; margin-bottom: 10px;">
								The future is here—now you can open and close your curtains at the clap of a hand!
							</h3>
							
							<!-- Date & Author in smaller, gray-ish font -->
							<div style="font-size: 0.9em; color: #777;">
								December 10, 2024 &nbsp;|&nbsp; by Koen Ceton
							</div>
						</div>

						<hr style="margin: 40px 0 40px 0; width: 100%;">

						<!-- Project Text (within the same column width) -->
						<div class="col-md-12" style="text-align: left;">
							<p><strong>Budget Automatic-Curtain</strong><br>
							This repository contains all the code, 3D prints, and the Raspberry Pi pin layout to make an automatic curtain for your bedroom! The curtain has two main features: it can open and close when it detects a double clap in the room, so you can simply close or open your curtains from anywhere. That is not all; with the use of the LCD screen and keypad, you can set an alarm to wake up to a bright room the next day. All I can say: the future is here.
                            To see the contents, visit the GitHub page.
                            <a href="https://github.com/koenc100/Automatic-Curtain?tab=readme-ov-file" target="_blank">GitHub</a>.
                            </p>

							<p>In the first section, the required software libraries and hardware components are listed. Right after, I briefly explain the pin layout including components, mechanics, and the code. Finally, I touch upon some improvements. Enjoy reading!</p>

							<p>The software was coded in Python 3.7.3 on RaspberryOS in the Thonny Python IDE.</p>

							<p><strong>The required libraries are listed below:</strong></p>
							<ul>
								<li>time (Python 3.7.3)</li>
								<li>datetime (3.2)</li>
								<li>RPi.GPIO (0.7.1) – module to control the GPIO on a Raspberry Pi</li>
								<li>threading (Python 3.7.3)</li>
								<li>pygame (1.94)</li>
								<li>contextlib (Python 3.7.3)</li>
								<li>rpi_lcd (Python 3.7.3)</li>
							</ul>

							<p><strong>The used/required hardware electronics are listed below:</strong></p>
							<ul>
								<li>Raspberry Pi (Model 4B)</li>
								<li>Sound sensor (KY-038)</li>
								<li>Stepper motor (28BYJ-48)</li>
								<li>LCD screen (1602 with i2c)</li>
								<li>16-key membrane (Arduino)</li>
								<li>Power supply breadboard (KW-1851, includes 5V battery)</li>
								<li>Driver board (ULN2003)</li>
								<li>Speakers with aux input (e.g., Logitech model)</li>
								<li>Breadboard (optional but useful)</li>
							</ul>

							<p><strong>The required mechanical hardware is listed below:</strong></p>
							<ul>
								<li>3D printed parts (from repository: <em>Automatic-curtain/parts</em>)</li>
								<li>Three pulleys (+ attachment)</li>
								<li>Thread/thin rope</li>
								<li>Strong glue (hot glue gun or superglue)</li>
								<li>2 bolts, 2 nuts, and 4 washer rings (2 mm)</li>
								<li>4 screws (5 mm)</li>
							</ul>

							<p>The complete system is wired as shown in the diagram. In this figure, the power supply is not depicted since it was not part of the software package.</p>

							<!-- Mechanics Image -->
							<div style="text-align: center;">
								<img 
									src="images/projects/automatic_curtain/mechanics.png" 
									alt="Mechanics Diagram" 
									style="width: 70%; display: block; margin: 20px auto; border: 1px solid #ccc;"
								>
                                <div style="font-size: 0.85em; color: #777; margin-top: 5px;">
                                    Figure 1: CAD design of rope mechanics.
                                </div>
							</div>

							<p><strong>Mechanics</strong><br>
							The mechanics are relatively simple. The stepper motor is connected to a drum which takes in thread when turning either clockwise or counterclockwise. When turning clockwise, the curtain is closed due to the placement of the pulleys. When turning counterclockwise, the curtain is opened. In the schematic picture above, the setup is shown for a two-curtain system where both curtains move in opposite directions (or just one curtain with minor modifications). There are some drawbacks to this setup, which will be explained in the final section.</p>

							<p><strong>Code</strong><br>
							The main script is <em>curtain_complete.py</em>. To run headless (without a monitor), this script executes on boot via <em>rc.local</em>. The script contains a continuous loop checking for button presses or double claps. It also imports <em>multitimer_me</em>, which must reside in the same folder. Additionally, the wake-up music is an .mp3 file, which you must reference with a valid file path. Other Python files in this repository are predecessors of <em>curtain_complete</em>, allowing you to test components independently.</p>

							<p>Combining the code with the breadboard leads to the following complete setup:</p>

							<!-- Full Setup Image -->
							<div style="text-align: center;">
								<img 
									src="images/projects/automatic_curtain/full_picture.jpeg" 
									alt="Full Picture Setup" 
									style="width: 70%; display: block; margin: 20px auto; border: 1px solid #ccc;"
								>
                                <div style="font-size: 0.85em; color: #777; margin-top: 5px;">
                                    Figure 2: Real-life implementation of the automatics curtain hardware.
                                </div>
							</div>

                            

							<p><strong>Improvements</strong><br>
							To improve this project, the stepper motor should have more torque. For my curtains, the 28BYJ-48 just barely manages. An upgrade to a NEMA 17 motor would deliver better performance. Additionally, because there is no spring or counterweight mechanism, the thread occasionally loosens. Using a tension spring would keep it taut and more reliable. Otherwise, the system works great!</p>
                            
							<p>Thanks for reading!</p>

						</div> <!-- end text column -->
					</div> <!-- end row -->
				</div> <!-- END fh5co-narrow-content -->
			</div> <!-- END fh5co-main -->
		</div> <!-- END fh5co-page -->

		<!-- Scripts -->
		<script src="js/jquery.min.js"></script>
		<script src="js/jquery.easing.1.3.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/jquery.waypoints.min.js"></script>
		<script src="js/jquery.flexslider-min.js"></script>
		<script src="js/main.js"></script>
	</body>
</html>
